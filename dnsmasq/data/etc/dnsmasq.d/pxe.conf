# PXE Boot
keep-in-foreground
bind-interfaces
enable-tftp
tftp-root=/var/lib/tftpboot
# check if we are already iPXE
dhcp-userclass=set:ipxe,iPXE


## RPI4
# detect rpi
#dhcp-mac=set:rpi,d8:3a:dd:*:*:*
# upgrade to uefi firmware (make pi load start4.elf etc.)
pxe-service=tag:rpi,tag:!ipxe,0,"Raspberry Pi Boot"
# upgrade to ipxe
dhcp-boot=tag:rpi,tag:!ipxe,snp.efi

## Everything else
# detect x86 devices
#dhcp-mac=set:x86,b8:85:84:*:*:*
# upgrade to ipxe
pxe-service=tag:x86,tag:!ipxe,X86PC,"PXE",undionly.kpxe
pxe-service=tag:x86,tag:!ipxe,X86-64_EFI,"PXE",ipxe.efi
pxe-service=tag:x86,tag:!ipxe,IA32_EFI,"PXE",ipxe.efi

port=0
